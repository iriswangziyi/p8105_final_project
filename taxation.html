<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Taxation</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Consumption
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="consumption.html">Consumption analysis</a>
    </li>
    <li>
      <a href="dashboard_tax_state_map.html">consumption dashboard</a>
    </li>
  </ul>
</li>
<li>
  <a href="taxation.html">Taxation</a>
</li>
<li>
  <a href="production.html">Production</a>
</li>
<li>
  <a href="analysis.html">Analysis</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="proposal.html">Project Report</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-envelope fa-lg"></span>
     
    Contact Us
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mailto:&lt;ajp2257@columbia.edu&gt;">Amy Pitts</a>
    </li>
    <li>
      <a href="mailto:&lt;rl3034@columbia.edu&gt;">Ruiyang Li</a>
    </li>
    <li>
      <a href="mailto:&lt;wf2270@columbia.edu&gt;">Wenbo Fei</a>
    </li>
    <li>
      <a href="mailto:&lt;ziyi.w@columbia.edu&gt;">Ziyi (Iris) Wang</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://www.youtube.com/">
    <span class="fa fa-youtube fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/iriswangziyi/p8105_final_project">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Taxation</h1>

</div>


<hr />
<div id="cumulative-taxs-collected" class="section level2">
<h2>Cumulative Taxs Collected</h2>
<p>Looking at just the taxes collected by each state over the years. This tax is specifically looking at the “Beer removed for consumption or sale including beer removed tax determined for consumption or sale in a tavern or on brewery premises”. This data is coming from the Alcohol and Tobacco Tax and Trade Bureau dataset.</p>
<pre class="r"><code>tax_df %&gt;%
  filter(state != &quot;total&quot;) %&gt;%
  pivot_longer(
    c(`2008`:`2019`),
    names_to = &quot;year&quot;,
    values_to = &quot;tax&quot;
  ) %&gt;%
  filter(year &gt; 2009) %&gt;%
  mutate(text_label = str_c(&quot;state: &quot;, state)) %&gt;% # creating text label 
  plot_ly( 
    x = ~year, y = ~tax, color = ~factor(state), text = ~text_label,
    alpha = .5, type = &quot;scatter&quot;, mode = &quot;lines&quot;, colors = &quot;viridis&quot;) %&gt;%
  layout( # adding a title 
    title = &quot;Tax collected over the years by state&quot;)</code></pre>
<div id="htmlwidget-181e6a2e35ae61d28bb0" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-181e6a2e35ae61d28bb0">{"x":{"visdat":{"b35b62def668":["function () ","plotlyVisDat"]},"cur_data":"b35b62def668","attrs":{"b35b62def668":{"x":{},"y":{},"text":{},"mode":"lines","color":{},"colors":"viridis","alpha":0.5,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Tax collected over the years by state","xaxis":{"domain":[0,1],"automargin":true,"title":"year","type":"category","categoryorder":"array","categoryarray":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"tax"},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1929.15,2251.02,2312.43,2155.6,2114.97,4511.48,13315.93,15974.1,30620.23,32849.37],"text":["state: AK","state: AK","state: AK","state: AK","state: AK","state: AK","state: AK","state: AK","state: AK","state: AK"],"mode":"lines","type":"scatter","name":"AK","marker":{"color":"rgba(68,1,84,0.5)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,0.5)"},"error_y":{"color":"rgba(68,1,84,0.5)"},"error_x":{"color":"rgba(68,1,84,0.5)"},"line":{"color":"rgba(68,1,84,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[161.24,0,46.5,130.55,226.25,6109.99,23810.78,29160.56,41718.66,47160.08],"text":["state: AL","state: AL","state: AL","state: AL","state: AL","state: AL","state: AL","state: AL","state: AL","state: AL"],"mode":"lines","type":"scatter","name":"AL","marker":{"color":"rgba(70,8,92,0.5)","line":{"color":"rgba(70,8,92,1)"}},"textfont":{"color":"rgba(70,8,92,0.5)"},"error_y":{"color":"rgba(70,8,92,0.5)"},"error_x":{"color":"rgba(70,8,92,0.5)"},"line":{"color":"rgba(70,8,92,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1331.85,1124.98,1265.93,558.14,657.12,1609.38,6091.89,13441.2,25150.46,16568.73],"text":["state: AR","state: AR","state: AR","state: AR","state: AR","state: AR","state: AR","state: AR","state: AR","state: AR"],"mode":"lines","type":"scatter","name":"AR","marker":{"color":"rgba(71,16,99,0.5)","line":{"color":"rgba(71,16,99,1)"}},"textfont":{"color":"rgba(71,16,99,0.5)"},"error_y":{"color":"rgba(71,16,99,0.5)"},"error_x":{"color":"rgba(71,16,99,0.5)"},"line":{"color":"rgba(71,16,99,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[16800.24,19897.83,19165.96,18763.52,17173,29869.1,41613.95,45424.11,47009.71,49699.26],"text":["state: AZ","state: AZ","state: AZ","state: AZ","state: AZ","state: AZ","state: AZ","state: AZ","state: AZ","state: AZ"],"mode":"lines","type":"scatter","name":"AZ","marker":{"color":"rgba(72,23,105,0.5)","line":{"color":"rgba(72,23,105,1)"}},"textfont":{"color":"rgba(72,23,105,0.5)"},"error_y":{"color":"rgba(72,23,105,0.5)"},"error_x":{"color":"rgba(72,23,105,0.5)"},"line":{"color":"rgba(72,23,105,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[58276.38,65069.7,64239.95,60559.56,65035.4,124974.7,201066.01,293554.62,359636.06,399692.97],"text":["state: CA","state: CA","state: CA","state: CA","state: CA","state: CA","state: CA","state: CA","state: CA","state: CA"],"mode":"lines","type":"scatter","name":"CA","marker":{"color":"rgba(72,30,111,0.5)","line":{"color":"rgba(72,30,111,1)"}},"textfont":{"color":"rgba(72,30,111,0.5)"},"error_y":{"color":"rgba(72,30,111,0.5)"},"error_x":{"color":"rgba(72,30,111,0.5)"},"line":{"color":"rgba(72,30,111,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[50584.87,60811.37,57966.73,60133.43,72839.26,121814.79,141312.55,163026.9,176577.49,175934.31],"text":["state: CO","state: CO","state: CO","state: CO","state: CO","state: CO","state: CO","state: CO","state: CO","state: CO"],"mode":"lines","type":"scatter","name":"CO","marker":{"color":"rgba(72,37,117,0.5)","line":{"color":"rgba(72,37,117,1)"}},"textfont":{"color":"rgba(72,37,117,0.5)"},"error_y":{"color":"rgba(72,37,117,0.5)"},"error_x":{"color":"rgba(72,37,117,0.5)"},"line":{"color":"rgba(72,37,117,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1988.38,2530.8,1876.05,1770.05,1447.6,13218.19,10705.61,21767.05,26871.86,34422.9],"text":["state: CT","state: CT","state: CT","state: CT","state: CT","state: CT","state: CT","state: CT","state: CT","state: CT"],"mode":"lines","type":"scatter","name":"CT","marker":{"color":"rgba(71,43,122,0.5)","line":{"color":"rgba(71,43,122,1)"}},"textfont":{"color":"rgba(71,43,122,0.5)"},"error_y":{"color":"rgba(71,43,122,0.5)"},"error_x":{"color":"rgba(71,43,122,0.5)"},"line":{"color":"rgba(71,43,122,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[3574.26,1676.54,1572.75,2250.9,4504.3,7207.31,8969.72,11096.42,10027.41,16347.97],"text":["state: DC","state: DC","state: DC","state: DC","state: DC","state: DC","state: DC","state: DC","state: DC","state: DC"],"mode":"lines","type":"scatter","name":"DC","marker":{"color":"rgba(70,49,126,0.5)","line":{"color":"rgba(70,49,126,1)"}},"textfont":{"color":"rgba(70,49,126,0.5)"},"error_y":{"color":"rgba(70,49,126,0.5)"},"error_x":{"color":"rgba(70,49,126,0.5)"},"line":{"color":"rgba(70,49,126,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[2308.99,2541.38,2718.28,2868.28,2771.7,5865.02,7647.56,9254.17,13816.8,14478.8],"text":["state: DE","state: DE","state: DE","state: DE","state: DE","state: DE","state: DE","state: DE","state: DE","state: DE"],"mode":"lines","type":"scatter","name":"DE","marker":{"color":"rgba(69,56,130,0.5)","line":{"color":"rgba(69,56,130,1)"}},"textfont":{"color":"rgba(69,56,130,0.5)"},"error_y":{"color":"rgba(69,56,130,0.5)"},"error_x":{"color":"rgba(69,56,130,0.5)"},"line":{"color":"rgba(69,56,130,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[7554.46,6761.68,6817.8,6440.29,6585.28,38265.32,88092.72,122617.24,138723.04,182784.12],"text":["state: FL","state: FL","state: FL","state: FL","state: FL","state: FL","state: FL","state: FL","state: FL","state: FL"],"mode":"lines","type":"scatter","name":"FL","marker":{"color":"rgba(67,62,133,0.5)","line":{"color":"rgba(67,62,133,1)"}},"textfont":{"color":"rgba(67,62,133,0.5)"},"error_y":{"color":"rgba(67,62,133,0.5)"},"error_x":{"color":"rgba(67,62,133,0.5)"},"line":{"color":"rgba(67,62,133,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[4165.69,4248.35,3480.3,4647.37,4432.32,17920.74,30539.97,51488.76,51856.22,55631.8],"text":["state: GA","state: GA","state: GA","state: GA","state: GA","state: GA","state: GA","state: GA","state: GA","state: GA"],"mode":"lines","type":"scatter","name":"GA","marker":{"color":"rgba(65,68,135,0.5)","line":{"color":"rgba(65,68,135,1)"}},"textfont":{"color":"rgba(65,68,135,0.5)"},"error_y":{"color":"rgba(65,68,135,0.5)"},"error_x":{"color":"rgba(65,68,135,0.5)"},"line":{"color":"rgba(65,68,135,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1680.25,1886.65,2084.01,1972.63,1380.6,4131.2,5623.03,8503.95,12037.94,11721.24],"text":["state: HI","state: HI","state: HI","state: HI","state: HI","state: HI","state: HI","state: HI","state: HI","state: HI"],"mode":"lines","type":"scatter","name":"HI","marker":{"color":"rgba(62,73,137,0.5)","line":{"color":"rgba(62,73,137,1)"}},"textfont":{"color":"rgba(62,73,137,0.5)"},"error_y":{"color":"rgba(62,73,137,0.5)"},"error_x":{"color":"rgba(62,73,137,0.5)"},"line":{"color":"rgba(62,73,137,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[6597.31,6808.03,6515.51,6003.19,5676.54,17866.34,29975.6,49090.14,74918.83,61429.37],"text":["state: IA","state: IA","state: IA","state: IA","state: IA","state: IA","state: IA","state: IA","state: IA","state: IA"],"mode":"lines","type":"scatter","name":"IA","marker":{"color":"rgba(60,79,138,0.5)","line":{"color":"rgba(60,79,138,1)"}},"textfont":{"color":"rgba(60,79,138,0.5)"},"error_y":{"color":"rgba(60,79,138,0.5)"},"error_x":{"color":"rgba(60,79,138,0.5)"},"line":{"color":"rgba(60,79,138,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[4089.04,5305.86,5376.69,4675.48,4573.66,13809.09,7812.7,9438.59,12906.99,13178.42],"text":["state: ID","state: ID","state: ID","state: ID","state: ID","state: ID","state: ID","state: ID","state: ID","state: ID"],"mode":"lines","type":"scatter","name":"ID","marker":{"color":"rgba(58,84,140,0.5)","line":{"color":"rgba(58,84,140,1)"}},"textfont":{"color":"rgba(58,84,140,0.5)"},"error_y":{"color":"rgba(58,84,140,0.5)"},"error_x":{"color":"rgba(58,84,140,0.5)"},"line":{"color":"rgba(58,84,140,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[20051.7,22028.03,23229.73,26271.03,91311.09,46217.44,72776.5,104165.94,134257.55,118482.59],"text":["state: IL","state: IL","state: IL","state: IL","state: IL","state: IL","state: IL","state: IL","state: IL","state: IL"],"mode":"lines","type":"scatter","name":"IL","marker":{"color":"rgba(55,90,140,0.5)","line":{"color":"rgba(55,90,140,1)"}},"textfont":{"color":"rgba(55,90,140,0.5)"},"error_y":{"color":"rgba(55,90,140,0.5)"},"error_x":{"color":"rgba(55,90,140,0.5)"},"line":{"color":"rgba(55,90,140,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[10589.68,11063.82,13120.19,13119.35,16356.6,32880.57,36829.47,42795.43,49318.85,55688.14],"text":["state: IN","state: IN","state: IN","state: IN","state: IN","state: IN","state: IN","state: IN","state: IN","state: IN"],"mode":"lines","type":"scatter","name":"IN","marker":{"color":"rgba(53,96,141,0.5)","line":{"color":"rgba(53,96,141,1)"}},"textfont":{"color":"rgba(53,96,141,0.5)"},"error_y":{"color":"rgba(53,96,141,0.5)"},"error_x":{"color":"rgba(53,96,141,0.5)"},"line":{"color":"rgba(53,96,141,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[7579.85,8113.96,7821.78,7415.82,7461.26,6624.1,9095.51,11772.39,12510.22,14480.41],"text":["state: KS","state: KS","state: KS","state: KS","state: KS","state: KS","state: KS","state: KS","state: KS","state: KS"],"mode":"lines","type":"scatter","name":"KS","marker":{"color":"rgba(50,101,142,0.5)","line":{"color":"rgba(50,101,142,1)"}},"textfont":{"color":"rgba(50,101,142,0.5)"},"error_y":{"color":"rgba(50,101,142,0.5)"},"error_x":{"color":"rgba(50,101,142,0.5)"},"line":{"color":"rgba(50,101,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[5289.92,4597.34,4949.54,6460.08,6234.52,7183.35,16546.76,27147.95,27648.33,24404.79],"text":["state: KY","state: KY","state: KY","state: KY","state: KY","state: KY","state: KY","state: KY","state: KY","state: KY"],"mode":"lines","type":"scatter","name":"KY","marker":{"color":"rgba(48,106,142,0.5)","line":{"color":"rgba(48,106,142,1)"}},"textfont":{"color":"rgba(48,106,142,0.5)"},"error_y":{"color":"rgba(48,106,142,0.5)"},"error_x":{"color":"rgba(48,106,142,0.5)"},"line":{"color":"rgba(48,106,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1775.2,1535.77,1606.1,1723.51,1579.1,6238.54,9478.39,16448.69,24619.93,55422.57],"text":["state: LA","state: LA","state: LA","state: LA","state: LA","state: LA","state: LA","state: LA","state: LA","state: LA"],"mode":"lines","type":"scatter","name":"LA","marker":{"color":"rgba(46,111,142,0.5)","line":{"color":"rgba(46,111,142,1)"}},"textfont":{"color":"rgba(46,111,142,0.5)"},"error_y":{"color":"rgba(46,111,142,0.5)"},"error_x":{"color":"rgba(46,111,142,0.5)"},"line":{"color":"rgba(46,111,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[12231.98,10142.24,10298.65,12570.98,10352.16,18915.57,78787.14,85176.38,57305.4,81860.44],"text":["state: MA","state: MA","state: MA","state: MA","state: MA","state: MA","state: MA","state: MA","state: MA","state: MA"],"mode":"lines","type":"scatter","name":"MA","marker":{"color":"rgba(44,115,142,0.5)","line":{"color":"rgba(44,115,142,1)"}},"textfont":{"color":"rgba(44,115,142,0.5)"},"error_y":{"color":"rgba(44,115,142,0.5)"},"error_x":{"color":"rgba(44,115,142,0.5)"},"line":{"color":"rgba(44,115,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[7525.49,7559.49,6958.28,7771.25,7534.65,17339.14,23190.15,28127.45,30431.62,33126.14],"text":["state: MD","state: MD","state: MD","state: MD","state: MD","state: MD","state: MD","state: MD","state: MD","state: MD"],"mode":"lines","type":"scatter","name":"MD","marker":{"color":"rgba(42,120,142,0.5)","line":{"color":"rgba(42,120,142,1)"}},"textfont":{"color":"rgba(42,120,142,0.5)"},"error_y":{"color":"rgba(42,120,142,0.5)"},"error_x":{"color":"rgba(42,120,142,0.5)"},"line":{"color":"rgba(42,120,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[6978.09,6717.44,7404.9,7960.51,7501.97,14981.92,27827.95,36717.92,49649.08,46942.61],"text":["state: ME","state: ME","state: ME","state: ME","state: ME","state: ME","state: ME","state: ME","state: ME","state: ME"],"mode":"lines","type":"scatter","name":"ME","marker":{"color":"rgba(40,125,142,0.5)","line":{"color":"rgba(40,125,142,1)"}},"textfont":{"color":"rgba(40,125,142,0.5)"},"error_y":{"color":"rgba(40,125,142,0.5)"},"error_x":{"color":"rgba(40,125,142,0.5)"},"line":{"color":"rgba(40,125,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[23176.79,23766.64,25243.93,28431.97,31218.34,55195.44,100487.69,126317.83,126231.72,131484.72],"text":["state: MI","state: MI","state: MI","state: MI","state: MI","state: MI","state: MI","state: MI","state: MI","state: MI"],"mode":"lines","type":"scatter","name":"MI","marker":{"color":"rgba(38,130,142,0.5)","line":{"color":"rgba(38,130,142,1)"}},"textfont":{"color":"rgba(38,130,142,0.5)"},"error_y":{"color":"rgba(38,130,142,0.5)"},"error_x":{"color":"rgba(38,130,142,0.5)"},"line":{"color":"rgba(38,130,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[8360.51,9205.09,11376.94,11984.66,12425.12,35484.79,50565.24,61178.19,85052.12,96830.69],"text":["state: MN","state: MN","state: MN","state: MN","state: MN","state: MN","state: MN","state: MN","state: MN","state: MN"],"mode":"lines","type":"scatter","name":"MN","marker":{"color":"rgba(36,134,142,0.5)","line":{"color":"rgba(36,134,142,1)"}},"textfont":{"color":"rgba(36,134,142,0.5)"},"error_y":{"color":"rgba(36,134,142,0.5)"},"error_x":{"color":"rgba(36,134,142,0.5)"},"line":{"color":"rgba(36,134,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[13289.38,14315.99,14047.28,12949.37,13379.38,18369.1,27933.48,28606.86,31234.65,34057.43],"text":["state: MO","state: MO","state: MO","state: MO","state: MO","state: MO","state: MO","state: MO","state: MO","state: MO"],"mode":"lines","type":"scatter","name":"MO","marker":{"color":"rgba(34,139,141,0.5)","line":{"color":"rgba(34,139,141,1)"}},"textfont":{"color":"rgba(34,139,141,0.5)"},"error_y":{"color":"rgba(34,139,141,0.5)"},"error_x":{"color":"rgba(34,139,141,0.5)"},"line":{"color":"rgba(34,139,141,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[12.58,3.23,40.12,0,0,6197.57,6899.51,8898.59,10462.16,11912.45],"text":["state: MS","state: MS","state: MS","state: MS","state: MS","state: MS","state: MS","state: MS","state: MS","state: MS"],"mode":"lines","type":"scatter","name":"MS","marker":{"color":"rgba(33,144,141,0.5)","line":{"color":"rgba(33,144,141,1)"}},"textfont":{"color":"rgba(33,144,141,0.5)"},"error_y":{"color":"rgba(33,144,141,0.5)"},"error_x":{"color":"rgba(33,144,141,0.5)"},"line":{"color":"rgba(33,144,141,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[2944.97,3806.3,4375.87,4373.97,5997.94,25759.63,30906.36,35410.18,40821.3,48182.05],"text":["state: MT","state: MT","state: MT","state: MT","state: MT","state: MT","state: MT","state: MT","state: MT","state: MT"],"mode":"lines","type":"scatter","name":"MT","marker":{"color":"rgba(31,149,139,0.5)","line":{"color":"rgba(31,149,139,1)"}},"textfont":{"color":"rgba(31,149,139,0.5)"},"error_y":{"color":"rgba(31,149,139,0.5)"},"error_x":{"color":"rgba(31,149,139,0.5)"},"line":{"color":"rgba(31,149,139,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[20184.07,20768.59,17604.53,21871.66,19005.47,52073.41,106408.5,122669.87,181068.92,222608.55],"text":["state: NC","state: NC","state: NC","state: NC","state: NC","state: NC","state: NC","state: NC","state: NC","state: NC"],"mode":"lines","type":"scatter","name":"NC","marker":{"color":"rgba(31,154,138,0.5)","line":{"color":"rgba(31,154,138,1)"}},"textfont":{"color":"rgba(31,154,138,0.5)"},"error_y":{"color":"rgba(31,154,138,0.5)"},"error_x":{"color":"rgba(31,154,138,0.5)"},"line":{"color":"rgba(31,154,138,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[731.62,772.39,817.7,1374.55,1346.63,2322.25,2809.64,5287.38,6723.49,10218.59],"text":["state: ND","state: ND","state: ND","state: ND","state: ND","state: ND","state: ND","state: ND","state: ND","state: ND"],"mode":"lines","type":"scatter","name":"ND","marker":{"color":"rgba(31,159,136,0.5)","line":{"color":"rgba(31,159,136,1)"}},"textfont":{"color":"rgba(31,159,136,0.5)"},"error_y":{"color":"rgba(31,159,136,0.5)"},"error_x":{"color":"rgba(31,159,136,0.5)"},"line":{"color":"rgba(31,159,136,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[5392.27,6111.78,5596.83,6392.8,3651.12,6340.13,9731.87,16999.38,23984.61,25822.41],"text":["state: NE","state: NE","state: NE","state: NE","state: NE","state: NE","state: NE","state: NE","state: NE","state: NE"],"mode":"lines","type":"scatter","name":"NE","marker":{"color":"rgba(32,163,134,0.5)","line":{"color":"rgba(32,163,134,1)"}},"textfont":{"color":"rgba(32,163,134,0.5)"},"error_y":{"color":"rgba(32,163,134,0.5)"},"error_x":{"color":"rgba(32,163,134,0.5)"},"line":{"color":"rgba(32,163,134,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[5272.03,5912.51,6262.36,6077.87,6006.92,8634.11,16905.67,27295.21,38366.97,50049.94],"text":["state: NH","state: NH","state: NH","state: NH","state: NH","state: NH","state: NH","state: NH","state: NH","state: NH"],"mode":"lines","type":"scatter","name":"NH","marker":{"color":"rgba(34,168,132,0.5)","line":{"color":"rgba(34,168,132,1)"}},"textfont":{"color":"rgba(34,168,132,0.5)"},"error_y":{"color":"rgba(34,168,132,0.5)"},"error_x":{"color":"rgba(34,168,132,0.5)"},"line":{"color":"rgba(34,168,132,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[5642.15,5500.47,5385.1,5535.97,5907.92,19453.22,35059.6,51339.57,59781.77,81325.78],"text":["state: NJ","state: NJ","state: NJ","state: NJ","state: NJ","state: NJ","state: NJ","state: NJ","state: NJ","state: NJ"],"mode":"lines","type":"scatter","name":"NJ","marker":{"color":"rgba(38,173,129,0.5)","line":{"color":"rgba(38,173,129,1)"}},"textfont":{"color":"rgba(38,173,129,0.5)"},"error_y":{"color":"rgba(38,173,129,0.5)"},"error_x":{"color":"rgba(38,173,129,0.5)"},"line":{"color":"rgba(38,173,129,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[12544.54,13349.8,13875.29,13652.7,13396.75,14181.52,14793.89,18654.17,21234.68,25948.46],"text":["state: NM","state: NM","state: NM","state: NM","state: NM","state: NM","state: NM","state: NM","state: NM","state: NM"],"mode":"lines","type":"scatter","name":"NM","marker":{"color":"rgba(44,177,126,0.5)","line":{"color":"rgba(44,177,126,1)"}},"textfont":{"color":"rgba(44,177,126,0.5)"},"error_y":{"color":"rgba(44,177,126,0.5)"},"error_x":{"color":"rgba(44,177,126,0.5)"},"line":{"color":"rgba(44,177,126,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[15618.93,15819.59,15331.77,14612.82,16234.04,21635.99,17457.76,14372.05,16923.86,21115.35],"text":["state: NV","state: NV","state: NV","state: NV","state: NV","state: NV","state: NV","state: NV","state: NV","state: NV"],"mode":"lines","type":"scatter","name":"NV","marker":{"color":"rgba(51,182,122,0.5)","line":{"color":"rgba(51,182,122,1)"}},"textfont":{"color":"rgba(51,182,122,0.5)"},"error_y":{"color":"rgba(51,182,122,0.5)"},"error_x":{"color":"rgba(51,182,122,0.5)"},"line":{"color":"rgba(51,182,122,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[11614.3,14572,18110.04,24800.93,38325.34,44491.79,57825.54,78958.19,112324.25,150616.79],"text":["state: NY","state: NY","state: NY","state: NY","state: NY","state: NY","state: NY","state: NY","state: NY","state: NY"],"mode":"lines","type":"scatter","name":"NY","marker":{"color":"rgba(58,186,118,0.5)","line":{"color":"rgba(58,186,118,1)"}},"textfont":{"color":"rgba(58,186,118,0.5)"},"error_y":{"color":"rgba(58,186,118,0.5)"},"error_x":{"color":"rgba(58,186,118,0.5)"},"line":{"color":"rgba(58,186,118,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[8426,9229.08,11293.61,11632.86,12905.42,30296.19,50547.69,79394.13,99966.84,132029.68],"text":["state: OH","state: OH","state: OH","state: OH","state: OH","state: OH","state: OH","state: OH","state: OH","state: OH"],"mode":"lines","type":"scatter","name":"OH","marker":{"color":"rgba(67,190,113,0.5)","line":{"color":"rgba(67,190,113,1)"}},"textfont":{"color":"rgba(67,190,113,0.5)"},"error_y":{"color":"rgba(67,190,113,0.5)"},"error_x":{"color":"rgba(67,190,113,0.5)"},"line":{"color":"rgba(67,190,113,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[2580.03,2354.06,2198.78,2381.47,2459.74,9930.51,9525.21,10922.26,16905.78,21128.75],"text":["state: OK","state: OK","state: OK","state: OK","state: OK","state: OK","state: OK","state: OK","state: OK","state: OK"],"mode":"lines","type":"scatter","name":"OK","marker":{"color":"rgba(77,195,107,0.5)","line":{"color":"rgba(77,195,107,1)"}},"textfont":{"color":"rgba(77,195,107,0.5)"},"error_y":{"color":"rgba(77,195,107,0.5)"},"error_x":{"color":"rgba(77,195,107,0.5)"},"line":{"color":"rgba(77,195,107,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[27650,32250.56,34755.42,37006.39,33472.7,88028.35,110352.94,131075.08,121831.69,122000.26],"text":["state: OR","state: OR","state: OR","state: OR","state: OR","state: OR","state: OR","state: OR","state: OR","state: OR"],"mode":"lines","type":"scatter","name":"OR","marker":{"color":"rgba(87,199,102,0.5)","line":{"color":"rgba(87,199,102,1)"}},"textfont":{"color":"rgba(87,199,102,0.5)"},"error_y":{"color":"rgba(87,199,102,0.5)"},"error_x":{"color":"rgba(87,199,102,0.5)"},"line":{"color":"rgba(87,199,102,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[26916.15,32025.24,33773.09,31943.35,30228.3,44275.02,55589.65,69737.43,78428.55,89591.8],"text":["state: PA","state: PA","state: PA","state: PA","state: PA","state: PA","state: PA","state: PA","state: PA","state: PA"],"mode":"lines","type":"scatter","name":"PA","marker":{"color":"rgba(98,203,95,0.5)","line":{"color":"rgba(98,203,95,1)"}},"textfont":{"color":"rgba(98,203,95,0.5)"},"error_y":{"color":"rgba(98,203,95,0.5)"},"error_x":{"color":"rgba(98,203,95,0.5)"},"line":{"color":"rgba(98,203,95,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[788.29,901.31,716.47,830.8,987.13,961.74,5280.88,6891.13,15674.07,24270.72],"text":["state: RI","state: RI","state: RI","state: RI","state: RI","state: RI","state: RI","state: RI","state: RI","state: RI"],"mode":"lines","type":"scatter","name":"RI","marker":{"color":"rgba(110,206,88,0.5)","line":{"color":"rgba(110,206,88,1)"}},"textfont":{"color":"rgba(110,206,88,0.5)"},"error_y":{"color":"rgba(110,206,88,0.5)"},"error_x":{"color":"rgba(110,206,88,0.5)"},"line":{"color":"rgba(110,206,88,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[3091.56,3037.92,2904.66,2711.72,3131.64,11328.32,30163.3,30800.78,38081.25,53161.06],"text":["state: SC","state: SC","state: SC","state: SC","state: SC","state: SC","state: SC","state: SC","state: SC","state: SC"],"mode":"lines","type":"scatter","name":"SC","marker":{"color":"rgba(122,209,81,0.5)","line":{"color":"rgba(122,209,81,1)"}},"textfont":{"color":"rgba(122,209,81,0.5)"},"error_y":{"color":"rgba(122,209,81,0.5)"},"error_x":{"color":"rgba(122,209,81,0.5)"},"line":{"color":"rgba(122,209,81,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[1186.62,824.63,773.45,909.14,1336.27,1731.45,3217.49,6582.66,8928.3,9386.07],"text":["state: SD","state: SD","state: SD","state: SD","state: SD","state: SD","state: SD","state: SD","state: SD","state: SD"],"mode":"lines","type":"scatter","name":"SD","marker":{"color":"rgba(134,213,73,0.5)","line":{"color":"rgba(134,213,73,1)"}},"textfont":{"color":"rgba(134,213,73,0.5)"},"error_y":{"color":"rgba(134,213,73,0.5)"},"error_x":{"color":"rgba(134,213,73,0.5)"},"line":{"color":"rgba(134,213,73,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[13633.63,9702.23,10103.13,9965.75,9220.38,18757.66,35673.47,39494.25,57029.15,59753.64],"text":["state: TN","state: TN","state: TN","state: TN","state: TN","state: TN","state: TN","state: TN","state: TN","state: TN"],"mode":"lines","type":"scatter","name":"TN","marker":{"color":"rgba(147,215,65,0.5)","line":{"color":"rgba(147,215,65,1)"}},"textfont":{"color":"rgba(147,215,65,0.5)"},"error_y":{"color":"rgba(147,215,65,0.5)"},"error_x":{"color":"rgba(147,215,65,0.5)"},"line":{"color":"rgba(147,215,65,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[10556.49,10299.17,8503.31,9242.6,9471.81,62757.74,101466.52,143879.86,162547.36,196218.38],"text":["state: TX","state: TX","state: TX","state: TX","state: TX","state: TX","state: TX","state: TX","state: TX","state: TX"],"mode":"lines","type":"scatter","name":"TX","marker":{"color":"rgba(161,218,56,0.5)","line":{"color":"rgba(161,218,56,1)"}},"textfont":{"color":"rgba(161,218,56,0.5)"},"error_y":{"color":"rgba(161,218,56,0.5)"},"error_x":{"color":"rgba(161,218,56,0.5)"},"line":{"color":"rgba(161,218,56,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[5226.6,5238.62,4595.18,3953.1,5875.72,4302.44,6283.83,8391.41,10153.87,19578.59],"text":["state: UT","state: UT","state: UT","state: UT","state: UT","state: UT","state: UT","state: UT","state: UT","state: UT"],"mode":"lines","type":"scatter","name":"UT","marker":{"color":"rgba(174,220,48,0.5)","line":{"color":"rgba(174,220,48,1)"}},"textfont":{"color":"rgba(174,220,48,0.5)"},"error_y":{"color":"rgba(174,220,48,0.5)"},"error_x":{"color":"rgba(174,220,48,0.5)"},"line":{"color":"rgba(174,220,48,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[12732.37,12098.41,10414.51,12450.88,12352.47,36003.33,68666.78,114900.37,118672.93,163800.67],"text":["state: VA","state: VA","state: VA","state: VA","state: VA","state: VA","state: VA","state: VA","state: VA","state: VA"],"mode":"lines","type":"scatter","name":"VA","marker":{"color":"rgba(188,223,39,0.5)","line":{"color":"rgba(188,223,39,1)"}},"textfont":{"color":"rgba(188,223,39,0.5)"},"error_y":{"color":"rgba(188,223,39,0.5)"},"error_x":{"color":"rgba(188,223,39,0.5)"},"line":{"color":"rgba(188,223,39,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[3661.94,3263.23,2216.5,2563.85,2692.34,10792.93,13299.51,20568.82,19980.23,23530.86],"text":["state: VT","state: VT","state: VT","state: VT","state: VT","state: VT","state: VT","state: VT","state: VT","state: VT"],"mode":"lines","type":"scatter","name":"VT","marker":{"color":"rgba(201,225,31,0.5)","line":{"color":"rgba(201,225,31,1)"}},"textfont":{"color":"rgba(201,225,31,0.5)"},"error_y":{"color":"rgba(201,225,31,0.5)"},"error_x":{"color":"rgba(201,225,31,0.5)"},"line":{"color":"rgba(201,225,31,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[19965.32,18205.29,17362.29,17770.87,18066.36,45357.11,78538.88,97744.72,121733.57,144277.95],"text":["state: WA","state: WA","state: WA","state: WA","state: WA","state: WA","state: WA","state: WA","state: WA","state: WA"],"mode":"lines","type":"scatter","name":"WA","marker":{"color":"rgba(215,226,25,0.5)","line":{"color":"rgba(215,226,25,1)"}},"textfont":{"color":"rgba(215,226,25,0.5)"},"error_y":{"color":"rgba(215,226,25,0.5)"},"error_x":{"color":"rgba(215,226,25,0.5)"},"line":{"color":"rgba(215,226,25,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[16669.97,19882.13,18853.61,19250.29,17885.54,34649.49,55487.79,68905.03,71830.22,74567.2],"text":["state: WI","state: WI","state: WI","state: WI","state: WI","state: WI","state: WI","state: WI","state: WI","state: WI"],"mode":"lines","type":"scatter","name":"WI","marker":{"color":"rgba(228,228,25,0.5)","line":{"color":"rgba(228,228,25,1)"}},"textfont":{"color":"rgba(228,228,25,0.5)"},"error_y":{"color":"rgba(228,228,25,0.5)"},"error_x":{"color":"rgba(228,228,25,0.5)"},"line":{"color":"rgba(228,228,25,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[7.16,0,14.85,422.15,420.5,3653.33,6766.41,8218.02,7252.5,8301.94],"text":["state: WV","state: WV","state: WV","state: WV","state: WV","state: WV","state: WV","state: WV","state: WV","state: WV"],"mode":"lines","type":"scatter","name":"WV","marker":{"color":"rgba(241,229,29,0.5)","line":{"color":"rgba(241,229,29,1)"}},"textfont":{"color":"rgba(241,229,29,0.5)"},"error_y":{"color":"rgba(241,229,29,0.5)"},"error_x":{"color":"rgba(241,229,29,0.5)"},"line":{"color":"rgba(241,229,29,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],"y":[2681.61,3178.55,3528.21,3544.63,3133.63,5403.2,14370.22,27214.46,15298.08,12462.54],"text":["state: WY","state: WY","state: WY","state: WY","state: WY","state: WY","state: WY","state: WY","state: WY","state: WY"],"mode":"lines","type":"scatter","name":"WY","marker":{"color":"rgba(253,231,37,0.5)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,0.5)"},"error_y":{"color":"rgba(253,231,37,0.5)"},"error_x":{"color":"rgba(253,231,37,0.5)"},"line":{"color":"rgba(253,231,37,0.5)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div id="analysis" class="section level3">
<h3>Analysis:</h3>
<hr />
<pre class="r"><code>longer_tax_df = tax_df %&gt;%
  filter(state != &quot;total&quot;) %&gt;%
  pivot_longer(
    c(`2008`:`2019`),
    names_to = &quot;year&quot;,
    values_to = &quot;tax&quot;
  )
longer_tax_df %&gt;%
  filter(year &gt; 2009) %&gt;%
  group_by(state) %&gt;%
  summarize(
    mean_tax = mean(tax),
    CI_lower = mean(tax) - 1.96 * sd(tax)/sqrt(length(tax)),
    CI_upper = mean(tax) + 1.96 * sd(tax)/sqrt(length(tax))
  ) %&gt;%
  mutate(
    state = abbr2state(state),
    state = fct_reorder(state, mean_tax)) %&gt;% 
  ggplot(aes(x = state, y = mean_tax, color=state)) + 
  geom_point() + 
  geom_errorbar(aes(ymin = CI_lower, ymax = CI_upper)) + 
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) + 
  theme(legend.position = &quot;none&quot;)  +
  labs(
    title = &quot;Average Tax Revenue by State&quot;,
    subtitle = &quot;Data from years 2010-2019&quot;,
    y = &quot;Tax Revenue&quot;,
    x = &quot;State&quot;
  )</code></pre>
<p><img src="taxation_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="analysis-1" class="section level3">
<h3>Analysis:</h3>
<hr />
</div>
</div>
<div id="tax-per-barrel" class="section level2">
<h2>Tax per Barrel</h2>
<p>In the <a href="https://www.nbwa.org/sites/default/files/Beer%20Excise%20Tax%202019%20-%20Revised%20July%202020.pdf">American Beer Distributers</a> dataset specifically about taxation the document reports the Effective Excise Tax (Volume Adjusted), and the Effective Excise Tax with Other and Local Taxes.</p>
<p>The graphic below shows the Effective Excise Tax (Volume Adjusted).</p>
<pre class="r"><code>sm3 = state_tax_df %&gt;% filter(state != &quot;District of Columbia&quot;)

static_plot&lt;-ggplot(sm3,aes(rank_3,group=state,fill=as.factor(state),color=as.factor(state))) +
 geom_tile(aes(y = adjusted/2,height = adjusted, width = 0.9), alpha = 0.8, color = NA) +
 geom_text(aes(y = 0, label = paste(state, &#39; &#39;)), vjust = 0.2, hjust = 1, size = 3.5) +
 geom_text(aes(y = adjusted, label = paste(&#39; &#39;,adjusted)), hjust=0, size = 3.5) +
 coord_flip(clip = &#39;off&#39;, expand = TRUE) +
 scale_y_continuous(labels = scales::comma) +
 scale_x_reverse() +
 guides(color = FALSE, fill = FALSE) +
 theme_minimal() +
 theme(
   plot.title=element_text(size=20, hjust=0.5, face=&#39;bold&#39;, colour=&#39;grey&#39;, vjust=-1),
   plot.subtitle=element_text(size=10, hjust=0.5, face=&#39;italic&#39;, color=&#39;grey&#39;),
   plot.caption =element_text(size=1, hjust=0.5, face=&#39;italic&#39;, color=&#39;grey&#39;),
   axis.ticks.y = element_blank(),
   axis.text.y = element_blank(),
   plot.margin = margin(1,1,1,4, &#39;cm&#39;)
 )
plt&lt;-static_plot + transition_states(states = year, transition_length = 4, state_length = 1) +
                   ease_aes(&#39;cubic-in-out&#39;) +
                   labs(title = &#39;Tax per Barrel in Year : {closest_state}&#39;,
                        subtitle = &#39;Effective Excise Tax (Volume Adjusted)&#39;,
                        x = &#39;&#39;, 
                        y = &#39;Tax per Barrel&#39;)

plt</code></pre>
<p><img src="taxation_files/figure-html/unnamed-chunk-3-1.gif" /><!-- --></p>
<div id="analysis-2" class="section level3">
<h3>Analysis:</h3>
<p>We can see Tennessee starting very low on the list and climbing up the ranks as the years increase.</p>
<hr />
</div>
</div>
<div id="line-graph" class="section level2">
<h2>Line Graph</h2>
<pre class="r"><code># state_tax_df %&gt;%
#   filter(year &gt; 2009) %&gt;%
#   mutate(text_label = str_c(&quot;state: &quot;, state)) %&gt;% # creating text label 
#   plot_ly( #using plotly to plot he tmax and tmin 
#     x = ~year, y = ~adjusted, color = ~factor(state), text = ~text_label,
#     alpha = .5, type = &quot;scatter&quot;, mode = &quot;lines&quot;, colors = &quot;viridis&quot;) %&gt;%
#   layout( # adding a title 
#     title = &quot;Effective Excise Tax (Volume Adjusted) (Tax per Barrel)&quot;)


state_tax_df %&gt;% 
  filter(state != &quot;District of Columbia&quot;) %&gt;%
  filter(year &gt; 2009) %&gt;%
  group_by(state) %&gt;%
  mutate(
    tax = adjusted
  ) %&gt;%
  summarize(
    mean_tax = mean(tax),
    CI_lower = mean(tax) - 1.96 * sd(tax)/sqrt(length(tax)),
    CI_upper = mean(tax) + 1.96 * sd(tax)/sqrt(length(tax))
  ) %&gt;%
  mutate(
    #state = abbr2state(state),
    state = fct_reorder(state, mean_tax)) %&gt;% 
  ggplot(aes(x = state, y = mean_tax, color=state)) + 
  geom_point() + 
  geom_errorbar(aes(ymin = CI_lower, ymax = CI_upper)) + 
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) + 
  theme(legend.position = &quot;none&quot;)  +
  labs(
    title = &quot;Average Tax Per Barrel by State&quot;,
    subtitle = &quot;Data from years 2010-2019&quot;,
    y = &quot;Tax per Barrel&quot;,
    x = &quot;State&quot;
  )</code></pre>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="taxation_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div id="analysis-3" class="section level3">
<h3>Analysis:</h3>
<p>Wyoming has the lowest tax per barrel average while Alabama has the highest tax per barrel. The biggest ranges of values goes to Tennessee with Washington and Delaware also having a range of values. All the other of the states seem to have the same tax per barrel from 2010-2019.</p>
<hr />
</div>
</div>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">


 
<hr />
<p style="text-align: center;">
A work by <a href="https://github.com/amypitts01">Amy Pitts</a>, <a href="https://github.com/ruiyangli1">Ruiyang Li</a>, <a href="https://github.com/Wenbofei">Wenbo Fei</a>, and <a href="https://github.com/iriswangziyi">Ziyi (Iris) Wang</a>
</p>
<p style="text-align: center;">
Visualizations and analyses performed using <a href="https://www.r-project.org/about.html">R</a> (v4.0.2) and <a href="https://rstudio.com">RStudio</a> (v1.3.1073).
</p>
<p style="text-align: center;">
© Copyright 2020 The Beer Project Team, All Rights Reserved | Powered by Github.io
</p>

<p> </p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
